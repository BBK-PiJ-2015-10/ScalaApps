
import akka.actor._

case object PingMessage
case object PongMessage
case object StartMessage
case object StopMessage

class Ping(pong: ActorRef) extends Actor{
  
  var count = 0
  
  def incrementAndPrint {
    count +=1 ; println("ping")
  }
  
  def receive = {
    
    case StartMessage => 
      incrementAndPrint
      pong ! PingMessage
      
    case PongMessage =>
      incrementAndPrint
      if (count > 20 ) {
        sender ! StopMessage
        println("ping stopped")
        context stop self
      } else {
        sender !PingMessage
      }
  
  }
  
}

object PingPongRunner extends App {
  
  println ("Welcome to my World of Ping Pong Application")
  
}